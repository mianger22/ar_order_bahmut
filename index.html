<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Модели по дуге с управлением</title>
  <!-- Аксессуары: A-Frame, AR.js -->
    <script src="./ar_libraries/aframe-master/dist/aframe-v1.6.0.min.js"></script>
    <script src="./ar_libraries/AR.js-3.4.0/aframe/build/aframe-ar.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
  <a-scene>
    <a-entity 
      gltf-model="./models/kazakh_dombra.glb" 
      rotation="0 0 0" 
      id="model">
    </a-entity>

    <script>
      // добавляем обработчики для вращения
      const model = document.querySelector('#model');

      let isDragging = false;
      let previousX = 0;

      document.addEventListener('mousedown', (e) => {
        isDragging = true;
        previousX = e.clientX;
      });

      document.addEventListener('mouseup', () => {
        isDragging = false;
      });

      document.addEventListener('mousemove', (e) => {
        if (isDragging) {
          const deltaX = e.clientX - previousX;
          previousX = e.clientX;

          // меняем угол вращения модели
          const currentRotation = model.getAttribute('rotation');
          model.setAttribute('rotation', {
            x: currentRotation.x,
            y: currentRotation.y + deltaX * 0.5,
            z: currentRotation.z
          });
        }
      });
    </script>
  </a-scene>
</body>
</html>