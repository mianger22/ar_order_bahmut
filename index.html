<html>
  <head>
    <script src="ar_libraries/aframe-master/dist/aframe-v1.6.0.min.js"></script>
    <script src="ar_libraries/AR.js-3.4.0/aframe/build/aframe-ar.js"></script>
  </head>
  <body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs='sourceType: webcam'>

      <!-- Группа галереи -->
      <!-- Группа моделей -->
      <a-entity id="modelGallery" rotation="0 0 0">
        <!-- Модели, расположенные по окружности или в линию -->
        <a-entity gltf-model="models/kazakh_dombra.glb" position="2 0 -3" scale="0.5 0.5 0.5"></a-entity>
        <a-entity gltf-model="models/kazakh_dombra.glb" position="-2 0 -3" scale="0.5 0.5 0.5"></a-entity>
        <a-entity gltf-model="models/kazakh_dombra.glb" position="0 0 -4" scale="0.5 0.5 0.5"></a-entity>
        <!-- Можно добавить больше моделей, расположенных по кругу -->
      </a-entity>

      <!-- Камера -->
      <a-entity camera></a-entity>

      <!-- Определение изображений (используйте свои файлы) -->
      <img id="img1" src="cat1.jpg" style="display:none;">
      <img id="img2" src="cat1.jpg" style="display:none;">
      <img id="img3" src="cat1.jpg" style="display:none;">

      <script>
        // Скрипт для вращения галереи мышью
        let isDragging = false;
        let previousMouseX = 0;
        const gallery = document.querySelector('#gallery');

        document.addEventListener('mousedown', (e) => {
          isDragging = true;
          previousMouseX = e.clientX;
        });

        document.addEventListener('mouseup', () => {
          isDragging = false;
        });

        document.addEventListener('mousemove', (e) => {
          if (isDragging) {
            const deltaX = e.clientX - previousMouseX;
            // Поворот по вертикальной оси (Y)
            const rotationY = gallery.getAttribute('rotation').y;
            gallery.setAttribute('rotation', {
              x: 0,
              y: rotationY + deltaX * 0.1, // настройте чувствительность
              z: 0
            });
            previousMouseX = e.clientX;
          }
        });

        // Также вы можете добавить касания для мобильных
        document.addEventListener('touchstart', (e) => {
          if (e.touches.length === 1) {
            isDragging = true;
            previousMouseX = e.touches[0].clientX;
          }
        });

        document.addEventListener('touchend', () => {
          isDragging = false;
        });

        document.addEventListener('touchmove', (e) => {
          if (isDragging && e.touches.length === 1) {
            const deltaX = e.touches[0].clientX - previousMouseX;
            const rotationY = gallery.getAttribute('rotation').y;
            gallery.setAttribute('rotation', {
              x: 0,
              y: rotationY + deltaX * 0.1,
              z: 0
            });
            previousMouseX = e.touches[0].clientX;
          }
        });
      </script>

    </a-scene>
  </body>
</html>